.page-content {
  @apply --page-content;
}

@mixin --base {
  &:not(:has(header)) {
    padding-block-start: var(--spacing-container0);
  }

  & > header {
    padding-block-start: var(--spacing-container0);

    h1 {
      &:has( + p) {
        padding-block-end: var(--spacing-container-4);
      }
    }

    p {
      color: var(--typography-subtle);
    }

    &:not(:has(nav)) {
      padding-block-end: var(--spacing-container0);
    }
  }

  /* --base {...} */
  :where(.page, .focus-page, .sectioned-page) {
    padding-block-start: 0;

    /* stylelint-disable-next-line no-descending-specificity */
    & > header {
      padding-block-start: 0;
    }
  }
}

.page {
  --ğŸ”’-max-content-width: var(--max-width, var(--layout-page-max-content-width));

  @apply --base;

  &:not(:has(header)) {
    padding-block-start: var(--spacing-container0);
  }
}

.focus-page {
  --ğŸ”’-max-content-width: var(--max-width, var(--layout-page-max-narrow-content-width));

  @apply --base;

  /* stylelint-disable-next-line no-descending-specificity */
  & > header {
    text-align: center;
  }

  & > :is(header, [part="content"]) {
    /* center */
  }
}

.sectioned-page {
  --ğŸ”’-max-content-width: var(--max-width, var(--layout-page-max-content-width));

  @apply --base;

  /* stylelint-disable-next-line no-descending-specificity */
  & > header {
    margin-block-end: var(--spacing-container0);
    background-color: var(--surface-container);

    /* stylelint-disable-next-line no-descending-specificity */
    &:has(nav) {
      box-shadow: 0 1px 0 rgb(0 0 0 / 6%);
    }

    nav {
      display: flex;
      align-items: center;
      margin-right: calc(var(--spacing-primitive-1) * -1);
      margin-left: calc(var(--spacing-primitive-1) * -1);

      a {
        position: relative;

        padding: var(--spacing-primitive0) var(--spacing-primitive-1);
        border: 0;

        color: var(--typography-main);
        text-decoration: none;

        background: 0 0;

        &::after {
          content: "";

          position: absolute;
          right: var(--spacing-primitive-1);
          bottom: 0;
          left: var(--spacing-primitive-1);

          height: 2px;
          border-color: transparent;
          border-style: solid;
          border-width: 1px;
          border-radius: 1px 1px 0 0;
        }

        &[aria-current="page"] {
          color: var(--navigation-links-base);

          &::after {
            border-color: var(--navigation-links-base);
          }
        }

        &:focus-visible  {
          outline: none;

            span {
              outline: var(--control-focus-stroke);
              outline-offset: var(--spacing-primitive-4);
            }
        }
      }
    }
  }

  > [part="content"] > section {
    display: grid;
    grid-template-columns: subgrid;

    > :is([part="content"], header) {
      grid-template-columns: subgrid;
    }
  }
}
